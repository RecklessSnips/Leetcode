package Noobie.array;

import java.util.Arrays;

public class R189 {

    /*
    ### ğŸ§© é—®é¢˜æœ¬è´¨ï¼šå³ç§»æ•°ç»„å…ƒç´ 

    å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼š
    `nums = [1, 2, 3, 4, 5, 6, 7]`ï¼Œ`k = 3`ï¼Œæˆ‘ä»¬æƒ³å¾—åˆ°ï¼š
    â¡ï¸ `[5, 6, 7, 1, 2, 3, 4]`

    æˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š

    > å¦‚æœæˆ‘ä»¬èƒ½æŠŠ `[1, 2, 3, 4]` å’Œ `[5, 6, 7]` çš„ä½ç½®â€œæ•´ä½“è°ƒæ¢â€ï¼Œæ˜¯ä¸æ˜¯å°±èƒ½å®Œæˆï¼Ÿ

    ä¹Ÿå°±æ˜¯è¯´ï¼š

    * æŠŠæœ€åçš„ 3 ä¸ªæ•° `[5, 6, 7]` å˜åˆ°å‰é¢
    * æŠŠå‰é¢çš„ 4 ä¸ªæ•° `[1, 2, 3, 4]` æ”¾åˆ°åé¢

    ä½†ç›´æ¥â€œæ•´ä½“è°ƒæ¢â€ä¸¤ä¸ªå­æ•°ç»„æ¯”è¾ƒå¤æ‚ã€‚äºæ˜¯æˆ‘å°±é—®è‡ªå·±ï¼š

    ---

    ### ğŸ’¡ æœ‰æ²¡æœ‰ä¸€ä¸ªç®€å•çš„æ“ä½œèƒ½å®ç°è¿™ç§â€œå—äº¤æ¢â€ï¼Ÿ

    æˆ‘ä»¬å‘ç°ï¼š

    > åè½¬ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç„¶åå†åè½¬æ•´ä½“ï¼Œæ˜¯å¯ä»¥å®ç°è°ƒæ¢é¡ºåºçš„ï¼

    æ¯”å¦‚æˆ‘ä»¬åè½¬ `A = [1, 2, 3, 4]` â†’ `[4, 3, 2, 1]`ï¼Œ
    å†åè½¬ `B = [5, 6, 7]` â†’ `[7, 6, 5]`ï¼Œ
    æŠŠä¸¤ä¸ªæ‹¼æˆ `[4, 3, 2, 1, 7, 6, 5]`ï¼Œå†åè½¬æ•´ä¸ªæ•°ç»„ â†’ `[5, 6, 7, 1, 2, 3, 4]`ï¼Œæ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼

    ---

    ### ğŸ§  æ€»ç»“è¿™ä¸ªâ€œé€†æ¨â€çš„é€»è¾‘ï¼š

    1. æƒ³è±¡ç›®æ ‡ç»“æœï¼šå³ç§»åçš„æ•°ç»„æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ
    2. è§‚å¯Ÿå…¶ä¸­çš„ç»“æ„å˜åŒ–ï¼šå“ªäº›éƒ¨åˆ†ç§»åŠ¨åˆ°å‰é¢ï¼Ÿå“ªäº›åˆ°åé¢ï¼Ÿ
    3. å¦‚æœç›´æ¥äº¤æ¢å›°éš¾ï¼Œå°±è€ƒè™‘â€œåè½¬ + æ‹¼æ¥â€çš„æ–¹å¼ï¼ˆå› ä¸ºåè½¬æ˜¯æœ€åŸºç¡€ã€æœ€å®¹æ˜“å®ç°çš„æ•°ç»„æ“ä½œï¼‰
    4. æŠŠè¿™ä¸ªæ€è·¯æ¨å¹¿æˆä¸‰æ­¥åè½¬


     */
    public static void rotate(int[] nums, int k) {
        /*
        å› ä¸ºkæœ‰å¯èƒ½ä¼šè¶…å‡ºæ•°ç»„çš„èŒƒå›´ï¼Œæ‰€ä»¥å¯ä»¥å–æ¨¡: k % lengthï¼ˆmoduloæ˜¯ä¸€ä¸ªå¾ˆç¥å¥‡çš„æŠ€å·§ï¼Œè¯¦æƒ…è§moduloç¯‡ç« ), è¿™ä¸ª mod ç»“æœå°±æ˜¯è¦åè½¬çš„æ¬¡æ•°
        ä¹Ÿå°±æ˜¯æ•°ç»„åé¢çš„ modä¸ªæ•°ï¼š1.åè½¬ 2. ç„¶åæ”¾åˆ°æ•°ç»„å‰é¢
        æ¯”å¦‚: [1, 2, 3, 4], k = 6
        é‚£ä¹ˆ 6 % 4 = 2ï¼Œ
        1. [4, 1, 2, 3]
        2. [3, 4, 1, 2] ---> same as the 6 time
        3. [2, 3, 4, 1]
        4. [1, 2, 3, 4]
        5. [4, 1, 2, 3]
        6. [3, 4, 1, 2] ---> same as the 2 time

        é‚£ä¹ˆå¯ä»¥ç°å°†åé¢ mod ä¸ªåè½¬ï¼Œç„¶åæ‹¼æ¥åˆ°å‰é¢å°±å¯ä»¥ï¼Œè¿™å°±éœ€è¦ partial åè½¬

        è·Ÿé«˜æ•ˆçš„æ˜¯ï¼Œå› ä¸ºæ˜¯ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥æ•´ä½“åè½¬ä¹‹åï¼Œå•ç‹¬åè½¬è¿™ä¸¤ä¸ªéƒ¨åˆ†
         */

        int rotateTimes = k % nums.length;

        // æ•´ä½“åè½¬
        partialReverse(0, nums.length - 1, nums);
        // å°†å‰é¢çš„kä¸ªåè½¬
        partialReverse(0, rotateTimes - 1, nums);
        // å°†åé¢çš„åè½¬
        partialReverse(rotateTimes, nums.length - 1, nums);

        System.out.println(Arrays.toString(nums));
    }

    private static int[] partialReverse(int start, int end, int[] nums){
        // Reverse the array in place
        while (start < end){
            int tmp = nums[start];
            nums[start] = nums[end];
            nums[end] = tmp;

            start ++;
            end--;
        }
        return nums;
    }

    public static void main(String[] args) {
        rotate(new int[]{-1, -100, 3, 99}, 2);
    }
}
